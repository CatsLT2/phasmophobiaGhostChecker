<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Phasmophobia Ghost Identifier</title>
  <style>
    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: #0d0d0d;
      color: #eee;
      margin: 0;
      padding: 20px;
    }
    h1, h2, h3 {
      color: #4af;
    }
    nav {
      text-align: center;
      margin-bottom: 20px;
    }
    nav button {
      background: #1a1a1a;
      color: #eee;
      border: 1px solid #333;
      padding: 10px 20px;
      margin: 5px;
      cursor: pointer;
      transition: background 0.2s;
    }
    nav button:hover {
      background: #333;
    }
    .tab {
      display: none;
    }
    .tab.active {
      display: block;
    }
    .container {
      max-width: 1200px;
      margin: auto;
    }
    .section {
      margin-bottom: 30px;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 10px;
    }
    .checkbox-group label {
      background: #1a1a1a;
      padding: 10px;
      border-radius: 5px;
      display: block;
      cursor: pointer;
      transition: background 0.2s;
    }
    .checkbox-group label:hover {
      background: #2a2a2a;
    }
    .checkbox-group input[type="checkbox"] {
      margin-right: 10px;
    }
    .trait-description, .evidence-description {
      font-size: 0.85em;
      color: #bbb;
      margin-top: 5px;
    }
    .results {
      padding: 20px;
      background: #1e1e1e;
      border-radius: 8px;
      border: 1px solid #333;
    }
    ul {
      list-style-type: none;
      padding-left: 0;
    }
    li {
      padding: 5px 0;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>Phasmophobia Ghost Filter</h1>

    <nav>
      <button onclick="switchTab('filter')">Ghost Filter</button>
      <button onclick="switchTab('guide')">Testing Tips & Guide</button>
    </nav>

    <div id="filter" class="tab active">
      <div class="section">
        <h2>Evidence</h2>
        <div id="evidence-section" class="grid checkbox-group"></div>
      </div>

      <div class="section">
        <h2>Traits</h2>
        <div id="traits-section" class="grid checkbox-group"></div>
      </div>

      <div class="section results" id="results"></div>
    </div>

    <div id="guide" class="tab">
      <div class="section">
        <h2>How to Test Evidence Types</h2>
        <ul>
          <li><strong>EMF Level 5:</strong> Place an EMF Reader near active spots. EMF 5 is only from certain interactions.</li>
          <li><strong>Spirit Box:</strong> Turn off lights, be alone, and ask questions near ghost.</li>
          <li><strong>Ghost Orb:</strong> Use video camera in the dark, view via truck monitor or headcam.</li>
          <li><strong>DOTS Projector:</strong> Watch from a distance or use a camera; some ghosts are only visible through camera.</li>
          <li><strong>Fingerprints:</strong> Use UV light on doors, windows, light switches after ghost interacts.</li>
          <li><strong>Ghost Writing:</strong> Place a writing book in active area and wait for writing. Ghosts write in it randomly.</li>
          <li><strong>Freezing Temperatures:</strong> Look for cold breath or use thermometer under 0°C/32°F.</li>
          <li><strong>Incense:</strong> When used you will have a short time that the ghost is repelled, can help when running away ~ 5 seconds.</li>
        </ul>
      </div>

      <div class="section">
        <h2>Beginner Tips</h2>
        <ul>
          <li>Always monitor sanity—ghosts hunt below 50%.</li>
          <li>Use the journal to track found evidence and rule out ghosts.</li>
          <li>Bring multiple types of tools and share them with teammates.</li>
          <li>Mark cursed objects early—some force hunts or give key evidence.</li>
          <li>Use salt, motion sensors, and smudge sticks for behavior clues.</li>
        </ul>
      </div>

      <div class="section">
        <h2>How to Identify <span style="color:#ff8">The Mimic</span></h2>
        <ul>
          <li><strong>Real Evidence:</strong> Spirit Box, Fingerprints, Freezing Temperatures</li>
          <li><strong>Fake Evidence:</strong> Ghost Orb — it always shows orbs, but this is not real evidence for The Mimic.</li>
          <li><strong>Behavior:</strong> The Mimic copies behaviors from other ghosts, including traits and abilities.</li>
          <li><strong>Tips to Identify:</strong>
            <ul>
              <li>If the ghost seems to switch traits often (e.g., speeds up, then slows down), suspect a Mimic.</li>
              <li>Look for <strong>Ghost Orbs</strong> + <strong>3 other pieces of evidence</strong>. Only The Mimic does this.</li>
              <li>Use the <strong>Spirit Box</strong>, <strong>UV light</strong>, and <strong>Thermometer</strong> to confirm its real trio.</li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <script>
      function switchTab(id) {
        document.querySelectorAll('.tab').forEach(tab => tab.classList.remove('active'));
        document.getElementById(id).classList.add('active');
      }

      const evidenceDescriptions = {
        "EMF Level 5": "Strong ghost interaction; shows red on EMF.",
        "Spirit Box": "Ghost speaks through the box when asked questions.",
        "Ghost Orb": "Floating orbs visible on night vision camera.",
        "DOTS Projector": "Ghost silhouette crosses through green laser grid.",
        "Fingerprints": "UV reveals prints on touched surfaces.",
        "Ghost Writing": "Ghost writes in a placed book.",
        "Freezing Temperatures": "See your breath or get subzero readings."
      };

      const traitDescriptions = {
        "Long Smudge Timer": "Smudging the ghost prevents hunting for 180s instead of 90s.",
        "Fast When Seen": "Ghost gets faster when you're in line of sight.",
        "Hates Crucifix": "Crucifixes are more effective against this ghost.",
        "Shy": "Ghost is less active when you're in the room.",
        "No Footprints": "Ghost doesn't leave salt footprints.",
        "Mimics Others": "This ghost can behave like other types."
      };

      const ghosts = [
        { name: "Spirit", evidence: ["EMF Level 5", "Spirit Box", "Ghost Writing"], traits: ["Standard"] },
        { name: "Wraith", evidence: ["EMF Level 5", "Spirit Box", "DOTS Projector"], traits: ["No Footprints"] },
        { name: "Phantom", evidence: ["Spirit Box", "Fingerprints", "DOTS Projector"], traits: ["Shy"] },
        { name: "Poltergeist", evidence: ["Spirit Box", "Fingerprints", "Ghost Writing"], traits: [] },
        { name: "Banshee", evidence: ["Ghost Orb", "Fingerprints", "DOTS Projector"], traits: ["Shy"] },
        { name: "Jinn", evidence: ["EMF Level 5", "Freezing Temperatures", "Fingerprints"], traits: ["Fast When Seen"] },
        { name: "Mare", evidence: ["Ghost Orb", "Spirit Box", "Ghost Writing"], traits: ["Hates Crucifix"] },
        { name: "Revenant", evidence: ["Ghost Orb", "Ghost Writing", "Freezing Temperatures"], traits: ["Slow unless it sees you"] },
        { name: "Shade", evidence: ["EMF Level 5", "Ghost Writing", "Freezing Temperatures"], traits: ["Shy"] },
        { name: "Demon", evidence: ["Fingerprints", "Ghost Writing", "Freezing Temperatures"], traits: ["Hates Crucifix"] },
        { name: "Yurei", evidence: ["Ghost Orb", "Freezing Temperatures", "DOTS Projector"], traits: ["Drains sanity faster"] },
        { name: "Oni", evidence: ["EMF Level 5", "Freezing Temperatures", "DOTS Projector"], traits: ["More active with players"] },
        { name: "Hantu", evidence: ["Fingerprints", "Ghost Orb", "Freezing Temperatures"], traits: ["Faster in cold rooms"] },
        { name: "Goryo", evidence: ["EMF Level 5", "Fingerprints", "DOTS Projector"], traits: ["Only visible on camera"] },
        { name: "Myling", evidence: ["EMF Level 5", "Fingerprints", "Ghost Writing"], traits: ["Quieter footsteps"] },
        { name: "Onryo", evidence: ["Spirit Box", "Ghost Orb", "Freezing Temperatures"], traits: ["Triggered by fire"] },
        { name: "The Twins", evidence: ["EMF Level 5", "Spirit Box", "Freezing Temperatures"], traits: ["Different activity locations"] },
        { name: "Raiju", evidence: ["EMF Level 5", "Ghost Orb", "DOTS Projector"], traits: ["Faster near electronics"] },
        { name: "Obake", evidence: ["EMF Level 5", "Ghost Orb", "Fingerprints"], traits: ["Rare fingerprints"] },
        { name: "The Mimic", evidence: ["Spirit Box", "Fingerprints", "Freezing Temperatures"], traits: ["Mimics Others"] },
        { name: "Moroi", evidence: ["Spirit Box", "Ghost Writing", "Freezing Temperatures"], traits: ["Curses players"] },
        { name: "Deogen", evidence: ["Spirit Box", "Ghost Writing", "DOTS Projector"], traits: ["Sees through hiding"] },
        { name: "Thaye", evidence: ["Ghost Orb", "Ghost Writing", "DOTS Projector"], traits: ["Ages over time"] },
        { name: "The Mimic", evidence: ["Spirit Box", "Fingerprints", "Freezing Temperatures", "Ghost Orb"], traits: ["Mimics Others"] }
      ];

      const allEvidence = new Set();
      const allTraits = new Set();
      ghosts.forEach(g => {
        g.evidence.forEach(e => allEvidence.add(e));
        g.traits.forEach(t => allTraits.add(t));
      });

      function createChecklist(id, items, className, descriptions) {
        const container = document.getElementById(id);
        [...items].sort().forEach(item => {
          const wrapper = document.createElement("div");
          const label = document.createElement("label");
          const input = document.createElement("input");
          input.type = "checkbox";
          input.value = item;
          input.classList.add(className);
          input.addEventListener("change", filterGhosts);
          label.appendChild(input);
          label.append(" " + item);

          const desc = document.createElement("div");
          desc.className = className === 'evidence' ? 'evidence-description' : 'trait-description';
          desc.innerText = descriptions[item] || "No description available.";

          wrapper.appendChild(label);
          wrapper.appendChild(desc);
          container.appendChild(wrapper);
        });
      }

      function filterGhosts() {
        const selectedEvidence = Array.from(document.querySelectorAll(".evidence:checked")).map(e => e.value);
        const selectedTraits = Array.from(document.querySelectorAll(".trait:checked")).map(e => e.value);

        const matches = ghosts.filter(g =>
          selectedEvidence.every(ev => g.evidence.includes(ev)) &&
          selectedTraits.every(tr => g.traits.includes(tr))
        );

        const resultDiv = document.getElementById("results");
        if (matches.length) {
          resultDiv.innerHTML = `<h3>Matching Ghosts:</h3><ul>${matches.map(g => `<li>${g.name}</li>`).join('')}</ul>`;
        } else {
          resultDiv.innerHTML = "<p>No ghosts match your selected evidence and traits.</p>";
        }
      }

      createChecklist("evidence-section", allEvidence, "evidence", evidenceDescriptions);
      createChecklist("traits-section", allTraits, "trait", traitDescriptions);
    </script>
</body>
</html>
